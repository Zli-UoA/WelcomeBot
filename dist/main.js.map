{"version":3,"sources":["main.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,IAAA;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AACA,IAAA,GAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AAEA,IAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,KAA7B,EAAoC,GAAG,CAAC,MAAJ;AAEpC,IAAM,GAAG,GAAG,IAAI,MAAA,CAAA,GAAJ,CAAQ;AAClB,EAAA,KAAK,EAAE,OAAO,CAAC,GAAR,CAAY,WADD;AAElB,EAAA,aAAa,EAAE,OAAO,CAAC,GAAR,CAAY;AAFT,CAAR,CAAZ;AAKA,IAAM,aAAa,GAAG,OAAO,CAAC,GAAR,CAAY,eAAlC;AAEA,GAAG,CAAC,KAAJ,CAAU,WAAV,EAAuB,UAAO,EAAP,EAAyB;MAAhB,KAAA,GAAA,EAAA,CAAA;MAAO,OAAA,GAAA,EAAA,CAAA;;;;;;;;AAEvB,UAAA,MAAM,GAAM,KAAK,CAAC,IAAN,CAA6B,EAAzC;AAEG,iBAAA,CAAA,CAAA,EAAM,GAAG,CAAC,MAAJ,CAAW,IAAX,CAAgB,WAAhB,CAA4B;AAC/C,YAAA,KAAK,EAAE,OAAO,CAAC,QADgC;AAE/C,YAAA,OAAO,EAAE,aAFsC;AAG/C,YAAA,IAAI,EAAE,OAAM,MAAN,GAAY;AAH6B,WAA5B,CAAN,CAAA;;;AAAT,UAAA,MAAM,GAAG,EAAA,CAAA,IAAA,EAAT;AAMN,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;;;;;AAEA,UAAA,OAAO,CAAC,KAAR,CAAc,GAAd;;;;;;;;AAEH,CAdD;;AAgBA,CAAC,YAAA;AAAA,SAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;;;AAEG,iBAAA,CAAA,CAAA,EAAM,GAAG,CAAC,KAAJ,CAAU,OAAO,CAAC,GAAR,CAAY,IAAZ,IAAoB,IAA9B,CAAN,CAAA;;;AAAA,UAAA,EAAA,CAAA,IAAA;;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,iCAAZ;;;;;AAEA,UAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACA,iBAAA,CAAA,CAAA,CAAA;;;;;;GANH,CAAA;AAQA,CARD","file":"main.js","sourceRoot":"../src","sourcesContent":["import { App } from \"@slack/bolt\";\nimport * as Env from \"dotenv\";\n\nif (process.env.NODE_ENV === \"dev\") Env.config();\n\nconst app = new App({\n  token: process.env.SLACK_TOKEN,\n  signingSecret: process.env.SLACK_SIGNING_SECRET,\n});\n\nconst postChannelID = process.env.POST_CHANNEL_ID;\n\napp.event('team_join', async ({ event, context }) => {\n  try {\n    const { id: userID } = (event.user as { id: string });\n\n    const result = await app.client.chat.postMessage({\n      token: context.botToken,\n      channel: postChannelID,\n      text: `<@${ userID }>がSlackに参加しました! ようこそ Zliへ!`\n    });\n\n    console.log(result);\n  } catch (e) {\n    console.error(e);\n  }\n});\n\n(async () => {\n  try {\n    await app.start(process.env.PORT || 3000)\n    console.log(\"⚡ Running Slack Bot with bolts.\");\n  } catch(e) {\n    console.error(e);\n    return;\n  }\n})();\n"]}